(window.webpackJsonpmobile=window.webpackJsonpmobile||[]).push([[0],{102:function(e,t,a){},188:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(26),c=a.n(i);a(102),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(8),o=a(9),l=a(11),m=a(10),u=a(12),h=(a(103),a(38)),p=a.n(h),d=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={selectedTab:"/home"},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{unselectedTintColor:"#949494",tintColor:"#666666",barTintColor:"white",tabBarPosition:"bottom",prerenderingSiblingsNumber:0},r.a.createElement(p.a.Item,{title:"\u4e3b\u9875",key:"home",icon:r.a.createElement("div",{style:{width:"22px",height:"22px",background:"url(http://img.qinxus.com/icons_home.svg) center center /  21px 21px no-repeat"}}),selectedIcon:r.a.createElement("div",{style:{width:"22px",height:"22px",background:"url(http://img.qinxus.com/icons_home_fill.svg) center center /  21px 21px no-repeat"}}),selected:"/home"===this.state.selectedTab||"/"===this.state.selectedTab,onPress:this.handleTabHome.bind(this)},"/home"===this.state.selectedTab||"/"===this.state.selectedTab?this.props.routerParmes.children:null),r.a.createElement(p.a.Item,{title:"\u559c\u6b22",key:"like",icon:r.a.createElement("div",{style:{width:"22px",height:"22px",background:"url(http://img.qinxus.com/icons_likes.svg) center center /  21px 21px no-repeat"}}),selectedIcon:r.a.createElement("div",{style:{width:"22px",height:"22px",background:"url(http://img.qinxus.com/icons_likes_fill.svg) center center /  21px 21px no-repeat"}}),selected:"/like"===this.state.selectedTab,onPress:this.handleTabLike.bind(this)},"/like"===this.state.selectedTab?this.props.routerParmes.children:null),r.a.createElement(p.a.Item,{title:"\u6211",key:"my",icon:r.a.createElement("div",{style:{width:"22px",height:"22px",background:"url(http://img.qinxus.com/icons_my.svg) center center /  21px 21px no-repeat"}}),selectedIcon:r.a.createElement("div",{style:{width:"22px",height:"22px",background:"url(http://img.qinxus.com/icons_my_fill.svg) center center /  21px 21px no-repeat"}}),selected:"/my"===this.state.selectedTab,onPress:this.handleTabMy.bind(this)},"/my"===this.state.selectedTab?this.props.routerParmes.children:null))}},{key:"componentDidMount",value:function(){this.setState({selectedTab:this.props.routerParmes.history.location.pathname})}},{key:"handleTabHome",value:function(){this.props.routerParmes.history.push("/home")}},{key:"handleTabLike",value:function(){this.props.routerParmes.history.push("/like")}},{key:"handleTabMy",value:function(){this.props.routerParmes.history.push("/my")}}]),t}(n.Component),b=a(19),v=a(32),g=a.n(v),f=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={artice:{},loginname:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"view"},r.a.createElement("h1",null,this.state.artice.title),r.a.createElement("div",{className:"artice-info"},r.a.createElement("span",{className:"info-item"},this.state.loginname),r.a.createElement("span",{className:"info-item"},this.state.artice.create_at)),r.a.createElement("div",{className:"content-box"},r.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:this.state.artice.content}})))}},{key:"componentDidMount",value:function(){this.index()}},{key:"index",value:function(){var e=this,t=e.props.location.state.id;g.a.get("https://cnodejs.org/api/v1/topic/"+t).then(function(t){if(t.data.success){var a=t.data.data;console.log(a),e.setState({artice:a,loginname:a.author.loginname})}}).catch(function(e){alert("\u53d1\u751f\u9519\u8bef")})}}]),t}(n.Component),E=Object(b.g)(f),y=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e="/view"===this.props.location.pathname?r.a.createElement(E,null):r.a.createElement(d,{routerParmes:this.props});return r.a.createElement("div",{id:"App",className:"App",key:this.props.location.key},e)}}]),t}(n.Component),x=Object(b.g)(y),k=(a(180),a(63)),j=a.n(k),O=function(e){function t(e){var a;Object(s.a)(this,t),a=Object(l.a)(this,Object(m.a)(t).call(this,e));var n=new j.a.DataSource({rowHasChanged:function(e,t){return e!==t}});return a.state={dataSource:n.cloneWithRows({}),isLoading:!0,pageCurrent:1,listData:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(j.a,{style:{height:"100%",overflow:"auto"},dataSource:this.state.dataSource,renderFooter:function(){return r.a.createElement("div",{style:{textAlign:"center"}},e.state.isLoading?"\u9a9a\u7b49":"\u6211\u4e5f\u662f\u6709\u5e95\u7ebf\u7684")},renderRow:function(t){return r.a.createElement("div",{className:"list-item",onClick:function(){return e.listClick(t)}},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"box-header"},r.a.createElement("span",{className:"type"},t.tab?t.tab:"test"),r.a.createElement("span",null," \xb7 "),r.a.createElement("span",{className:"author"},t.author.loginname),r.a.createElement("span",null," \xb7 "),r.a.createElement("span",null,t.create_at)),r.a.createElement("div",{className:"box-body"},t.title),r.a.createElement("div",{className:"box-footer"},r.a.createElement("span",{className:"item-box"},r.a.createElement("i",{className:"icon iconfont"},"\ue73d"),r.a.createElement("span",{className:"number"},t.visit_count)),r.a.createElement("span",{className:"item-box"},r.a.createElement("i",{className:"icon iconfont"},"\ue731"),r.a.createElement("span",{className:"number"},t.reply_count)))))},pageSize:10,scrollRenderAheadDistance:500,scrollEventThrottle:20,onEndReachedThreshold:100,onEndReached:this.index.bind(this)})}},{key:"componentDidMount",value:function(){this.index()}},{key:"index",value:function(){var e=this,t="/",a={};"all"===this.props.getType?(t="https://cnodejs.org/api/v1/topics",a={page:e.state.pageCurrent,limit:10}):"collect"===this.props.getType&&(t="https://cnodejs.org/api/v1/topic_collect/QxGh"),g.a.get(t,{params:a}).then(function(t){if(t.data.success){var a=e.state.pageCurrent+1,n=e.state.listData.concat(t.data.data);e.setState({pageCurrent:a,listData:n}),e.setState({dataSource:e.state.dataSource.cloneWithRows(e.state.listData),isLoading:!1})}}).catch(function(e){alert("\u8bf7\u6c42\u6570\u636e\u5f02\u5e38!")})}},{key:"listClick",value:function(e){var t=e.id;this.props.history.push({pathname:"/view",state:{id:t}})}}]),t}(n.Component),N=Object(b.g)(O),w=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"home-container",className:"container"},r.a.createElement(N,{getType:"all",routerParmes:this.props}))}}]),t}(n.Component),T=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"like-container",className:"container"},r.a.createElement(N,{getType:"collect",routerParmes:this.props}))}}]),t}(n.Component),S=a(95),_={number:100,login_name:"QxGH"},C=Object(S.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;if("add_number"===t.type){var a=JSON.parse(JSON.stringify(e));return a.number++,a}if("sub_number"===t.type){var n=JSON.parse(JSON.stringify(e));return n.number--,n}return e}),P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleStoreChange=function(){a.setState({store:C.getState()})},C.subscribe(a.handleStoreChange),a.state={avatar:"",store:C.getState()},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=null;return this.state.avatar&&(e=r.a.createElement("img",{className:"avatar",src:this.state.avatar,alt:"\u5934\u50cf"})),r.a.createElement("div",{id:"my-container"},r.a.createElement("div",{className:"user-card"},r.a.createElement("div",{className:"card-box"},r.a.createElement("div",{className:"avatar-box"},e),r.a.createElement("div",{className:"name-box"},r.a.createElement("span",{className:"name"},this.state.store.login_name)))))}},{key:"componentDidMount",value:function(){this.index()}},{key:"index",value:function(){var e=this,t="https://cnodejs.org/api/v1/user/"+this.state.store.login_name;g.a.get(t).then(function(t){console.log(t.data.data),!0===t.data.success?e.setState({avatar:t.data.data.avatar_url}):alert("\u521d\u59cb\u5316\u5931\u8d25!")}).catch(function(e){alert("error!")})}}]),t}(n.Component),D=a(45),I=function(){return r.a.createElement(D.a,null,r.a.createElement(x,null,r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/",exact:!0,component:w}),r.a.createElement(b.b,{path:"/home",component:w}),r.a.createElement(b.b,{path:"/like",component:T}),r.a.createElement(b.b,{path:"/my",component:P}),r.a.createElement(b.b,{path:"/view",component:E}),r.a.createElement(b.b,{path:"/",render:function(){return r.a.createElement(b.a,{to:"/"})}}))))};c.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},97:function(e,t,a){e.exports=a(188)}},[[97,1,2]]]);
//# sourceMappingURL=main.dbf823f6.chunk.js.map