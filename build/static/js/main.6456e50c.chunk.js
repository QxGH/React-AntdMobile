(window.webpackJsonpmobile=window.webpackJsonpmobile||[]).push([[0],{113:function(e,t,a){e.exports=a(216)},118:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(18),s=a.n(c);a(118),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=a(8),l=a(9),o=a(11),u=a(10),m=a(12),h=(a(119),a(44)),p=a.n(h),d=a(23),b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={selectedTab:"/home"},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(p.a,{unselectedTintColor:"#949494",tintColor:"#666666",barTintColor:"white",tabBarPosition:"bottom",prerenderingSiblingsNumber:0},i.a.createElement(p.a.Item,{title:"\u4e3b\u9875",key:"home",icon:i.a.createElement("div",{style:{width:"22px",height:"22px",background:"url(http://img.qinxus.com/icons_home.svg) center center /  21px 21px no-repeat"}}),selectedIcon:i.a.createElement("div",{style:{width:"22px",height:"22px",background:"url(http://img.qinxus.com/icons_home_fill.svg) center center /  21px 21px no-repeat"}}),selected:"/home"===this.state.selectedTab||"/"===this.state.selectedTab,onPress:this.handleTabHome.bind(this)},"/home"===this.state.selectedTab||"/"===this.state.selectedTab?this.props.routerChildren:null),i.a.createElement(p.a.Item,{title:"\u6536\u85cf",key:"collect",icon:i.a.createElement("div",{style:{width:"22px",height:"22px",background:"url(http://img.qinxus.com/icons_likes.svg) center center /  21px 21px no-repeat"}}),selectedIcon:i.a.createElement("div",{style:{width:"22px",height:"22px",background:"url(http://img.qinxus.com/icons_likes_fill.svg) center center /  21px 21px no-repeat"}}),selected:"/collect"===this.state.selectedTab,onPress:this.handleTabLike.bind(this)},"/collect"===this.state.selectedTab?this.props.routerChildren:null),i.a.createElement(p.a.Item,{title:"\u6211",key:"my",icon:i.a.createElement("div",{style:{width:"22px",height:"22px",background:"url(http://img.qinxus.com/icons_my.svg) center center /  21px 21px no-repeat"}}),selectedIcon:i.a.createElement("div",{style:{width:"22px",height:"22px",background:"url(http://img.qinxus.com/icons_my_fill.svg) center center /  21px 21px no-repeat"}}),selected:"/my"===this.state.selectedTab,onPress:this.handleTabMy.bind(this)},"/my"===this.state.selectedTab?this.props.routerChildren:null))}},{key:"componentDidMount",value:function(){this.setState({selectedTab:this.props.location.pathname})}},{key:"componentWillUnmount",value:function(){this.handleTabHome=null,this.handleTabLike=null,this.handleTabMy=null}},{key:"handleTabHome",value:function(){this.props.history.push("/home")}},{key:"handleTabLike",value:function(){this.props.history.push("/collect")}},{key:"handleTabMy",value:function(){this.props.history.push("/my")}}]),t}(n.Component),g=Object(d.g)(b),v=(a(179),a(106)),f=a.n(v),y=(a(69),a(42)),E=a.n(y),k=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"view"},i.a.createElement(f.a,{mode:"light",className:"view-nav",icon:i.a.createElement(E.a,{type:"left"}),onLeftClick:function(){return e.goback()},rightContent:[i.a.createElement(E.a,{key:"1",type:"ellipsis"})]},"View"),i.a.createElement("div",{className:"view-box"},this.props.routerChildren))}},{key:"goback",value:function(){this.props.history.goBack()}}]),t}(n.Component),x=Object(d.g)(k),j=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=-1!==this.props.location.pathname.indexOf("/view")?i.a.createElement(x,{routerChildren:this.props.children}):i.a.createElement(g,{routerChildren:this.props.children});return i.a.createElement("div",{id:"App",className:"App",key:this.props.location.key},e)}}]),t}(n.Component),O=Object(d.g)(j),N=(a(52),a(21)),w=a.n(N),C=(a(70),a(38)),S=a.n(C),T=(a(185),a(74)),_=a.n(T),L=a(40),R=a.n(L);R.a.defaults.baseURL="https://cnodejs.org/api/v1/",R.a.defaults.timeout=1e4,R.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var D=function(e,t){return new Promise(function(a,n){R.a.get(e,t).then(function(e){a(e)}).catch(function(e){n(e)})})},I=function(e){function t(e){var a;Object(r.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e));var n=new _.a.DataSource({rowHasChanged:function(e,t){return e!==t}});return a.state={dataSource:n.cloneWithRows({}),isLoading:!0,pageCurrent:1,listData:[],getFlag:!0,collectFlag:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(_.a,{style:{height:"100%",overflow:"auto"},dataSource:this.state.dataSource,renderFooter:function(){return i.a.createElement("div",{style:{textAlign:"center"}},e.state.isLoading?i.a.createElement(S.a,{className:"justify-content",text:"Loading..."}):"\u2014\u2014\u6211\u4e5f\u662f\u6709\u5e95\u7ebf\u7684\u2014\u2014")},renderRow:function(t){return i.a.createElement("div",{className:"list-item",onClick:function(){return e.listClick(t)}},i.a.createElement("div",{className:"box"},i.a.createElement("div",{className:"box-header"},i.a.createElement("span",{className:"type"},t.tab?t.tab:"test"),i.a.createElement("span",null," \xb7 "),i.a.createElement("span",{className:"author"},t.author.loginname),i.a.createElement("span",null," \xb7 "),i.a.createElement("span",null,t.create_at)),i.a.createElement("div",{className:"box-body"},t.title),i.a.createElement("div",{className:"box-footer"},i.a.createElement("span",{className:"item-box"},i.a.createElement("i",{className:"icon iconfont"},"\ue73d"),i.a.createElement("span",{className:"number"},t.visit_count)),i.a.createElement("span",{className:"item-box"},i.a.createElement("i",{className:"icon iconfont"},"\ue731"),i.a.createElement("span",{className:"number"},t.reply_count)))))},pageSize:20,onScroll:function(){console.log("scroll")},scrollRenderAheadDistance:500,onEndReachedThreshold:10,onEndReached:this.index.bind(this)})}},{key:"componentDidMount",value:function(){this.index()}},{key:"index",value:function(){var e=this,t=this;if(t.state.getFlag&&t.state.collectFlag){t.setState({isLoading:!0,getFlag:!1});var a="/",n={};"all"===this.props.getType?(a="/topics",n={page:t.state.pageCurrent,limit:20}):"collect"===this.props.getType&&(a="/topic_collect/QxGh"),D(a,{params:n}).then(function(a){if(a.data.success){var n=t.state.pageCurrent+1,i=t.state.listData.concat(a.data.data);t.setState({pageCurrent:n,listData:i}),t.setState({dataSource:t.state.dataSource.cloneWithRows(t.state.listData)}),"collect"===e.props.getType&&t.setState({collectFlag:!1})}else w.a.info("\u6570\u636e\u83b7\u53d6\u5931\u8d25\uff01");t.setState({isLoading:!1,getFlag:!0})}).catch(function(e){w.a.offline("\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff01")})}}},{key:"listClick",value:function(e){var t=e.id;this.props.history.push({pathname:"/view/content",state:{id:t}})}}]),t}(n.Component),M=Object(d.g)(I),F=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{id:"home-container",className:"container"},i.a.createElement(M,{getType:"all"}))}}]),t}(n.Component),H=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{id:"like-container",className:"container"},i.a.createElement(M,{getType:"collect"}))}}]),t}(n.Component),P=(a(207),a(109)),q=a.n(P),z=(a(71),a(31)),A=a.n(z),B=a(110),W={number:30,login_name:"QxGH"},J=Object(B.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"add_number":a.number++;break;case"sub_number":a.number--;break;case"set_number":a.number=t.number;break;default:return a}return a}),G=A.a.Item,Q=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleStoreChange=function(){a.setState({store:J.getState()})},J.subscribe(a.handleStoreChange),a.state={avatar:"",store:J.getState()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=null;return this.state.avatar&&(e=i.a.createElement("img",{className:"avatar",src:this.state.avatar,alt:"\u5934\u50cf"})),i.a.createElement("div",{id:"my-container"},i.a.createElement("div",{className:"user-card"},i.a.createElement("div",{className:"card-box"},i.a.createElement("div",{className:"avatar-box"},i.a.createElement("div",{className:"avatar-bg"},e)),i.a.createElement("div",{className:"name-box"},i.a.createElement("span",{className:"name"},this.state.store.login_name)))),i.a.createElement(q.a,null,i.a.createElement(A.a,{className:"my-list"},i.a.createElement(G,{arrow:"horizontal",onClick:this.goRedux.bind(this)},"Redux"),i.a.createElement(G,{arrow:"horizontal",onClick:this.goPublic.bind(this)},"\u6700\u65b0\u53d1\u5e03"),i.a.createElement(G,{arrow:"horizontal",onClick:this.goReplies.bind(this)},"\u6700\u8fd1\u8bc4\u8bba"),i.a.createElement(G,{arrow:"horizontal",onClick:this.goLike.bind(this)},"\u6211\u7684\u6536\u85cf"))))}},{key:"componentDidMount",value:function(){this.index()}},{key:"index",value:function(){var e=this,t=this.state.store.login_name;D("/user/"+t).then(function(t){!0===t.data.success?e.setState({avatar:t.data.data.avatar_url}):w.a.info("\u6570\u636e\u83b7\u53d6\u5931\u8d25\uff01")}).catch(function(e){w.a.offline("\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff01")})}},{key:"goRedux",value:function(){this.props.history.push("/view/redux")}},{key:"goPublic",value:function(){this.props.history.push({pathname:"/view/partake",state:{getType:"public"}})}},{key:"goReplies",value:function(){this.props.history.push({pathname:"/view/partake",state:{getType:"replies"}})}},{key:"goLike",value:function(){this.props.history.push("/collect")}}]),t}(n.Component),U=Object(d.g)(Q),V=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={artice:{},loginname:"",replies:[],loading:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=i.a.createElement(S.a,{className:"justify-content",text:"Loading..."}),t=i.a.createElement("div",{className:"replies-box"},i.a.createElement("ul",{className:"list"},this.state.replies.map(function(e,t){return i.a.createElement("li",{className:"item",key:t},i.a.createElement("div",{className:"info"},e.author.loginname," ",i.a.createElement("span",{className:"date"},e.create_at)," "),i.a.createElement("div",{className:"message",dangerouslySetInnerHTML:{__html:e.content}}))})));return i.a.createElement("div",{className:"content"},this.state.loading?e:null,i.a.createElement("h1",null,this.state.artice.title),i.a.createElement("div",{className:"artice-info"},i.a.createElement("span",{className:"info-item"},this.state.loginname),i.a.createElement("span",{className:"info-item"},this.state.artice.create_at)),i.a.createElement("div",{className:"content-box"},i.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:this.state.artice.content}})),this.state.loading?null:t)}},{key:"componentDidMount",value:function(){this.index()}},{key:"index",value:function(){var e=this;e.setState({loading:!0});var t=e.props.location.state.id;D("/topic/"+t).then(function(t){if(t.data.success){var a=t.data.data;e.setState({artice:a,loginname:a.author.loginname,replies:a.replies})}else w.a.info("\u6570\u636e\u83b7\u53d6\u5931\u8d25\uff01");e.setState({loading:!1})}).catch(function(e){w.a.offline("\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff01")})}}]),t}(n.Component),$=Object(d.g)(V),K=(a(210),a(54)),X=a.n(K),Y=(a(212),a(112)),Z=a.n(Y),ee=(a(214),a(45)),te=a.n(ee),ae=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleStoreChange=function(){a.setState({store:J.getState()})},J.subscribe(a.handleStoreChange),a.state={store:J.getState()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"redux"},i.a.createElement(te.a,null),i.a.createElement("div",{className:"progress-box"},i.a.createElement("div",{className:"progress"},i.a.createElement(Z.a,{percent:this.state.store.number,position:"normal"})),i.a.createElement("div",{"aria-hidden":"true"},this.state.store.number,"%")),i.a.createElement(te.a,null),i.a.createElement(X.a,{type:"primary",disabled:this.state.store.number>=100,onClick:this.add},"Add"),i.a.createElement(te.a,null),i.a.createElement(X.a,{type:"warning",disabled:this.state.store.number<=0,onClick:this.sub},"Sub"),i.a.createElement(te.a,null),i.a.createElement(X.a,{onClick:this.set},"Set-60"))}},{key:"add",value:function(){J.dispatch({type:"add_number"})}},{key:"sub",value:function(){J.dispatch({type:"sub_number"})}},{key:"set",value:function(){J.dispatch({type:"set_number",number:60})}}]),t}(n.Component),ne=Object(d.g)(ae),ie=A.a.Item,ce=ie.Brief,se=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={list:[],getType:"",loading:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({getType:this.props.location.state.getType}),this.index()}},{key:"render",value:function(){var e=this,t=i.a.createElement(S.a,{className:"justify-content",text:"Loading..."});return i.a.createElement("div",{className:"partake"},this.state.loading?t:null,i.a.createElement(A.a,{className:"partake-list",style:this.state.loading?{display:"none"}:{display:"block"}},this.state.list.map(function(t,a){return i.a.createElement(ie,{key:t.id,extra:t.last_reply_at,align:"top",thumb:t.author.avatar_url,multipleLine:!0,onClick:function(){return e.listClick(t.id)}},t.title," ",i.a.createElement(ce,null,t.author.loginname))})))}},{key:"index",value:function(){var e=this;e.setState({loading:!0}),D("/user/QxGH").then(function(t){"public"===e.state.getType?e.setState({list:t.data.data.recent_topics}):"replies"===e.state.getType&&e.setState({list:t.data.data.recent_replies}),e.setState({loading:!1})}).catch(function(t){e.setState({loading:!1}),w.a.offline("\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff01")})}},{key:"listClick",value:function(e){this.props.history.push({pathname:"/view/content",state:{id:e}})}}]),t}(n.Component),re=Object(d.g)(se),le=a(24),oe=function(){return i.a.createElement(le.a,null,i.a.createElement(O,null,i.a.createElement(d.d,null,i.a.createElement(d.b,{path:"/",exact:!0,component:F}),i.a.createElement(d.b,{path:"/home",component:F}),i.a.createElement(d.b,{path:"/collect",component:H}),i.a.createElement(d.b,{path:"/my",component:U}),i.a.createElement(d.b,{path:"/view",exact:!0,component:x}),i.a.createElement(d.b,{path:"/view/content",component:$}),i.a.createElement(d.b,{path:"/view/redux",component:ne}),i.a.createElement(d.b,{path:"/view/partake",component:re}),i.a.createElement(d.b,{path:"/",render:function(){return i.a.createElement(d.a,{to:"/"})}}))))};s.a.render(i.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[113,1,2]]]);
//# sourceMappingURL=main.6456e50c.chunk.js.map